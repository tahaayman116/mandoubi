# دليل الإعداد اليدوي المفصل لـ Appwrite - نظام Mandoub

## معلومات المشروع
- **معرف المشروع**: `68bcdd830036700d6d5b`
- **نقطة النهاية**: `https://nyc.cloud.appwrite.io/v1`
- **معرف قاعدة البيانات**: `mandoub-db` (ستقوم بإنشائها)

---

## الخطوة 1: الدخول إلى Appwrite Console

1. **افتح المتصفح** واذهب إلى: https://cloud.appwrite.io
2. **سجل الدخول** بحسابك
3. **اختر مشروعك** بمعرف: `68bcdd830036700d6d5b`
4. ستظهر لك لوحة التحكم الرئيسية

---

## الخطوة 2: إنشاء قاعدة البيانات

1. **في الشريط الجانبي الأيسر**، اضغط على **"Databases"**
2. **اضغط على الزر الأزرق** **"Create Database"**
3. **في النافذة المنبثقة**:
   - **Database Name**: اكتب `Mandoub Database`
   - **Database ID**: اكتب `mandoub-db`
4. **اضغط "Create"**
5. **انتظر** حتى يتم إنشاء قاعدة البيانات
6. **اضغط على قاعدة البيانات** `mandoub-db` للدخول إليها

---

## الخطوة 3: إنشاء المجموعات (Collections)

### المجموعة الأولى: submissions

#### إنشاء المجموعة:
1. **داخل قاعدة البيانات** `mandoub-db`، اضغط **"Create Collection"**
2. **في النافذة المنبثقة**:
   - **Collection Name**: اكتب `Submissions`
   - **Collection ID**: اكتب `submissions`
3. **اضغط "Create"**
4. **اضغط على المجموعة** `submissions` للدخول إليها

#### إضافة الحقول (Attributes):

**الحقل 1: villageName**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `villageName`
   - **Size**: `255`
   - **Required**: ✅ (مفعل)
   - **Array**: ❌ (غير مفعل)
4. اضغط **"Create"**
5. **انتظر** حتى يظهر ✅ بجانب الحقل

**الحقل 2: representativeName**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `representativeName`
   - **Size**: `255`
   - **Required**: ✅ (مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 3: totalPeople**
1. اضغط **"Create Attribute"**
2. اختر **"Integer"**
3. املأ البيانات:
   - **Attribute Key**: `totalPeople`
   - **Required**: ✅ (مفعل)
   - **Min**: `0`
   - **Max**: `999999`
4. اضغط **"Create"** وانتظر

**الحقل 4: receivedMoney**
1. اضغط **"Create Attribute"**
2. اختر **"Integer"**
3. املأ البيانات:
   - **Attribute Key**: `receivedMoney`
   - **Required**: ✅ (مفعل)
   - **Min**: `0`
   - **Max**: `999999`
4. اضغط **"Create"** وانتظر

**الحقل 5: notReceived**
1. اضغط **"Create Attribute"**
2. اختر **"Integer"**
3. املأ البيانات:
   - **Attribute Key**: `notReceived`
   - **Required**: ✅ (مفعل)
   - **Min**: `0`
   - **Max**: `999999`
4. اضغط **"Create"** وانتظر

**الحقل 6: amountPerPerson**
1. اضغط **"Create Attribute"**
2. اختر **"Integer"**
3. املأ البيانات:
   - **Attribute Key**: `amountPerPerson`
   - **Required**: ✅ (مفعل)
   - **Min**: `0`
   - **Max**: `999999`
4. اضغط **"Create"** وانتظر

**الحقل 7: totalAmount**
1. اضغط **"Create Attribute"**
2. اختر **"Integer"**
3. املأ البيانات:
   - **Attribute Key**: `totalAmount`
   - **Required**: ✅ (مفعل)
   - **Min**: `0`
   - **Max**: `999999999`
4. اضغط **"Create"** وانتظر

**الحقل 8: submittedBy**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `submittedBy`
   - **Size**: `255`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 9: representativeId**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `representativeId`
   - **Size**: `255`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 10: timestamp**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `timestamp`
   - **Size**: `255`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 11: createdAt**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `createdAt`
   - **Size**: `255`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

#### إعداد الصلاحيات لـ submissions:
1. **اضغط على تبويب "Settings"** في أعلى الصفحة
2. **اضغط على "Permissions"** في الشريط الجانبي
3. **اضغط "Add a role"**
4. **اختر "Any"**
5. **حدد جميع الصلاحيات**:
   - ✅ Read
   - ✅ Create
   - ✅ Update
   - ✅ Delete
6. **اضغط "Update"**

---

### المجموعة الثانية: representatives

#### إنشاء المجموعة:
1. **ارجع إلى قاعدة البيانات** `mandoub-db` (اضغط على اسم قاعدة البيانات في أعلى الصفحة)
2. **اضغط "Create Collection"**
3. **في النافذة المنبثقة**:
   - **Collection Name**: اكتب `Representatives`
   - **Collection ID**: اكتب `representatives`
4. **اضغط "Create"**
5. **اضغط على المجموعة** `representatives`

#### إضافة الحقول:

**الحقل 1: name**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `name`
   - **Size**: `255`
   - **Required**: ✅ (مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 2: role**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `role`
   - **Size**: `100`
   - **Required**: ✅ (مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 3: username**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `username`
   - **Size**: `100`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 4: password**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `password`
   - **Size**: `255`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 5: email**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `email`
   - **Size**: `255`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 6: active**
1. اضغط **"Create Attribute"**
2. اختر **"Boolean"**
3. املأ البيانات:
   - **Attribute Key**: `active`
   - **Required**: ✅ (مفعل)
   - **Default**: `true`
4. اضغط **"Create"** وانتظر

**الحقل 7: createdAt**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `createdAt`
   - **Size**: `255`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 8: updatedAt**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `updatedAt`
   - **Size**: `255`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

#### إعداد الصلاحيات لـ representatives:
1. **اضغط على تبويب "Settings"**
2. **اضغط على "Permissions"**
3. **اضغط "Add a role"**
4. **اختر "Any"**
5. **حدد جميع الصلاحيات**: ✅ Read, Create, Update, Delete
6. **اضغط "Update"**

---

### المجموعة الثالثة: settings

#### إنشاء المجموعة:
1. **ارجع إلى قاعدة البيانات** `mandoub-db`
2. **اضغط "Create Collection"**
3. **في النافذة المنبثقة**:
   - **Collection Name**: اكتب `Settings`
   - **Collection ID**: اكتب `settings`
4. **اضغط "Create"**
5. **اضغط على المجموعة** `settings`

#### إضافة الحقول:

**الحقل 1: googleSheetsUrl**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `googleSheetsUrl`
   - **Size**: `500`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 2: enableGoogleSheets**
1. اضغط **"Create Attribute"**
2. اختر **"Boolean"**
3. املأ البيانات:
   - **Attribute Key**: `enableGoogleSheets`
   - **Required**: ❌ (غير مفعل)
   - **Default**: `false`
4. اضغط **"Create"** وانتظر

**الحقل 3: passwordNotificationUrl**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `passwordNotificationUrl`
   - **Size**: `500`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 4: adminPassword**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `adminPassword`
   - **Size**: `255`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 5: passwordLastChanged**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `passwordLastChanged`
   - **Size**: `255`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 6: createdAt**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `createdAt`
   - **Size**: `255`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 7: updatedAt**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `updatedAt`
   - **Size**: `255`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

#### إعداد الصلاحيات لـ settings:
1. **اضغط على تبويب "Settings"**
2. **اضغط على "Permissions"**
3. **اضغط "Add a role"**
4. **اختر "Any"**
5. **حدد جميع الصلاحيات**: ✅ Read, Create, Update, Delete
6. **اضغط "Update"**

---

### المجموعة الرابعة: formSettings

#### إنشاء المجموعة:
1. **ارجع إلى قاعدة البيانات** `mandoub-db`
2. **اضغط "Create Collection"**
3. **في النافذة المنبثقة**:
   - **Collection Name**: اكتب `Form Settings`
   - **Collection ID**: اكتب `formSettings`
4. **اضغط "Create"**
5. **اضغط على المجموعة** `formSettings`

#### إضافة الحقول:

**الحقل 1: username**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `username`
   - **Size**: `100`
   - **Required**: ✅ (مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 2: password**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `password`
   - **Size**: `255`
   - **Required**: ✅ (مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 3: googleSheetsUrl**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `googleSheetsUrl`
   - **Size**: `500`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 4: updatedAt**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `updatedAt`
   - **Size**: `255`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

**الحقل 5: updatedBy**
1. اضغط **"Create Attribute"**
2. اختر **"String"**
3. املأ البيانات:
   - **Attribute Key**: `updatedBy`
   - **Size**: `255`
   - **Required**: ❌ (غير مفعل)
4. اضغط **"Create"** وانتظر

#### إعداد الصلاحيات لـ formSettings:
1. **اضغط على تبويب "Settings"**
2. **اضغط على "Permissions"**
3. **اضغط "Add a role"**
4. **اختر "Any"**
5. **حدد جميع الصلاحيات**: ✅ Read, Create, Update, Delete
6. **اضغط "Update"**

---

## الخطوة 4: إضافة المنصة (لحل مشاكل CORS)

1. **في الشريط الجانبي**، اضغط على **"Overview"**
2. **ابحث عن قسم "Platforms"**
3. **اضغط "Add Platform"**
4. **اختر "Web"**
5. **في النافذة المنبثقة**:
   - **Name**: اكتب `Mandoub Web App`
   - **Hostname**: اكتب `localhost`
6. **اضغط "Next"**
7. **اضغط "Skip optional steps"** أو **"Done"**

---

## الخطوة 5: التحقق النهائي

### تأكد من وجود:
- ✅ قاعدة البيانات: `mandoub-db`
- ✅ مجموعة: `submissions` (11 حقل)
- ✅ مجموعة: `representatives` (8 حقول)
- ✅ مجموعة: `settings` (7 حقول)
- ✅ مجموعة: `formSettings` (5 حقول)
- ✅ جميع المجموعات لها صلاحيات "Any"
- ✅ تم إضافة منصة الويب

### للتحقق:
1. **اذهب إلى قاعدة البيانات** `mandoub-db`
2. **تأكد من وجود 4 مجموعات**
3. **اضغط على كل مجموعة وتحقق من عدد الحقول**

---

## الخطوة 6: إشعاري عند الانتهاء

**بعد إكمال جميع الخطوات أعلاه، أخبرني وسأقوم بـ:**
1. ✅ تحديث الكود ليستخدم قاعدة البيانات الجديدة
2. ✅ اختبار النظام المزدوج (Firebase + Appwrite)
3. ✅ التأكد من عمل المزامنة بشكل صحيح

---

## ملاحظات مهمة:

- **انتظر** بعد إنشاء كل حقل حتى يظهر ✅
- **لا تغلق** المتصفح أثناء العمل
- **إذا ظهرت رسالة خطأ**، انتظر قليلاً وأعد المحاولة
- **الوقت المتوقع**: 15-20 دقيقة

🎯 **الهدف**: إنشاء نظام مزدوج يحفظ البيانات في Firebase و Appwrite معاً!
